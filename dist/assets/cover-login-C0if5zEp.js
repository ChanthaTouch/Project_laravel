import{d as _,u as w,ak as y,e as h,as as k,ab as p,al as U,f as S,r as m,o as r,c as n,a as e,L as C,A as P,C as A,H as u,J as c,h as x,s as E,am as L}from"./index-dI1uNq6t.js";import{_ as V,a as B,b as I,c as j}from"./polygon-object-VGll6Zuk.js";import{a as D,A as M}from"./api-DrJ4TS1v.js";const N=D.create({baseURL:M,headers:{"Content-Type":"application/json"}});async function R(d){return await N.post("/login",d)}const $={class:"relative flex min-h-screen items-center justify-center bg-[url(/assets/images/auth/map.png)] bg-cover bg-center bg-no-repeat px-2 py-6 dark:bg-[#060818] sm:px-4"},T={class:"relative flex w-full flex-col items-center justify-center gap-6 px-2 pb-10 pt-6 sm:px-4"},F={class:"w-full min-h-[450px] max-w-[450px] mx-auto bg-white/90 dark:bg-black/70 rounded-xl shadow p-5"},H={key:0,class:"text-red-500 text-xs mb-2 text-center"},J={class:"relative text-white-dark"},W={class:"absolute start-4 top-1/2 -translate-y-1/2"},q={class:"relative text-white-dark"},z={class:"absolute start-4 top-1/2 -translate-y-1/2"},G=["disabled"],K={key:0},O={key:1},Z=_({__name:"cover-login",setup(d){w({title:"Login Cover"});const f=y();h();const b=k(),g=p(U());S(()=>`/assets/images/flags/${g.locale.toUpperCase()}.svg`);const t=p({username:"",password:""}),a=m(""),o=m(!1),v=async()=>{a.value="",o.value=!0;try{const l=await R(t);l.data.access_token?(b.setUser(l.data),f.push("/")):a.value="Invalid username or password."}catch{a.value="Login failed. Please try again."}finally{o.value=!1}};return(l,s)=>(r(),n("div",null,[e("div",$,[s[5]||(s[5]=e("img",{src:V,alt:"image",class:"absolute left-0 top-1/2 h-full max-h-[893px] -translate-y-1/2"},null,-1)),s[6]||(s[6]=e("img",{src:B,alt:"image",class:"absolute left-24 top-0 h-40 md:left-[30%]"},null,-1)),s[7]||(s[7]=e("img",{src:I,alt:"image",class:"absolute right-0 top-0 h-[300px]"},null,-1)),s[8]||(s[8]=e("img",{src:j,alt:"image",class:"absolute bottom-0 end-[28%]"},null,-1)),e("div",T,[e("div",F,[s[4]||(s[4]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-lg font-extrabold uppercase !leading-snug text-primary md:text-3xl"}," Welcome to Futura System"),e("p",{class:"text-sm font-bold leading-normal text-white-dark"},"Enter your username and password to login")],-1)),e("form",{class:"space-y-4 dark:text-white",onSubmit:C(v,["prevent"])},[a.value?(r(),n("div",H,P(a.value),1)):A("",!0),e("div",null,[s[2]||(s[2]=e("label",{for:"Username",class:"block mb-1 text-sm font-semibold"},"Username",-1)),e("div",J,[u(e("input",{id:"Username","onUpdate:modelValue":s[0]||(s[0]=i=>t.username=i),type:"text",placeholder:"Enter Username",class:"form-input ps-10 placeholder:text-white-dark text-sm py-2"},null,512),[[c,t.username]]),e("span",W,[x(E,{fill:!0})])])]),e("div",null,[s[3]||(s[3]=e("label",{for:"Password",class:"block mb-1 text-sm font-semibold"},"Password",-1)),e("div",q,[u(e("input",{id:"Password","onUpdate:modelValue":s[1]||(s[1]=i=>t.password=i),type:"password",placeholder:"Enter Password",class:"form-input ps-10 placeholder:text-white-dark text-sm py-2"},null,512),[[c,t.password]]),e("span",z,[x(L,{fill:!0})])])]),e("button",{type:"submit",disabled:o.value,class:"btn btn-gradient !mt-4 w-full border-0 uppercase font-bold shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)] text-sm py-2"},[o.value?(r(),n("span",K,"Signing in...")):(r(),n("span",O,"Sign In"))],8,G)],32)])])])]))}});export{Z as default};
