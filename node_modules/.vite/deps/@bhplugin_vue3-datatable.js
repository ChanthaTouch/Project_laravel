import "./chunk-T37SANSL.js";
import {
  Fragment,
  computed,
  createBaseVNode,
  createCommentVNode,
  createElementBlock,
  createStaticVNode,
  createTextVNode,
  createVNode,
  defineComponent,
  normalizeClass,
  normalizeStyle,
  onBeforeUnmount,
  onMounted,
  openBlock,
  ref,
  renderList,
  renderSlot,
  toDisplayString,
  unref,
  useSlots,
  vModelCheckbox,
  vModelSelect,
  vModelText,
  vShow,
  watch,
  withDirectives,
  withModifiers
} from "./chunk-ZV2BNZWO.js";
import "./chunk-PLDDJCW6.js";

// node_modules/@bhplugin/vue3-datatable/dist/vue3-datatable.js
var Je = { class: "bh-filter-menu bh-absolute bh-z-[1] bh-bg-white bh-shadow-md bh-rounded-md bh-top-full bh-right-0 bh-w-32 bh-mt-1" };
var We = defineComponent({
  __name: "column-filter",
  props: ["column", "columnFilterLang"],
  emits: ["close", "filterChange"],
  setup(S, { emit: _ }) {
    const o = S;
    onBeforeUnmount(() => {
      document.removeEventListener("click", t);
    }), onMounted(() => {
      document.addEventListener("click", t);
    });
    const p = _, t = () => {
      p("close");
    }, g = (v) => {
      o.column.condition = v, v === "" && (o.column.value = ""), p("filterChange", o.column);
    };
    return (v, a) => {
      var d, $, C, N, Z, q, x, G, R, D, j, P, W, O, ee, A, te, F, B;
      return openBlock(), createElementBlock("div", Je, [
        createBaseVNode("div", {
          class: "bh-text-[13px] bh-font-normal bh-rounded bh-overflow-hidden",
          onClick: withModifiers(t, ["stop"])
        }, [
          createBaseVNode("button", {
            type: "button",
            class: normalizeClass({ active: o.column.condition === "" }),
            onClick: a[0] || (a[0] = (k) => g(""))
          }, toDisplayString((d = o.columnFilterLang && o.columnFilterLang.no_filter) != null ? d : "No filter"), 3),
          o.column.type === "string" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "contain" }),
              onClick: a[1] || (a[1] = (k) => g("contain"))
            }, toDisplayString(($ = o.columnFilterLang && o.columnFilterLang.contain) != null ? $ : "Contain"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "not_contain" }),
              onClick: a[2] || (a[2] = (k) => g("not_contain"))
            }, toDisplayString((C = o.columnFilterLang && o.columnFilterLang.not_contain) != null ? C : "Not contain"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "equal" }),
              onClick: a[3] || (a[3] = (k) => g("equal"))
            }, toDisplayString((N = o.columnFilterLang && o.columnFilterLang.equal) != null ? N : "Equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "not_equal" }),
              onClick: a[4] || (a[4] = (k) => g("not_equal"))
            }, toDisplayString((Z = o.columnFilterLang && o.columnFilterLang.not_equal) != null ? Z : "Not equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "start_with" }),
              onClick: a[5] || (a[5] = (k) => g("start_with"))
            }, toDisplayString((q = o.columnFilterLang && o.columnFilterLang.start_with) != null ? q : "Starts with"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "end_with" }),
              onClick: a[6] || (a[6] = (k) => g("end_with"))
            }, toDisplayString((x = o.columnFilterLang && o.columnFilterLang.end_with) != null ? x : "Ends with"), 3)
          ], 64)) : o.column.type === "number" ? (openBlock(), createElementBlock(Fragment, { key: 1 }, [
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "equal" }),
              onClick: a[7] || (a[7] = (k) => g("equal"))
            }, toDisplayString((G = o.columnFilterLang && o.columnFilterLang.equal) != null ? G : "Equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "not_equal" }),
              onClick: a[8] || (a[8] = (k) => g("not_equal"))
            }, toDisplayString((R = o.columnFilterLang && o.columnFilterLang.not_equal) != null ? R : "Not equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "greater_than" }),
              onClick: a[9] || (a[9] = (k) => g("greater_than"))
            }, toDisplayString((D = o.columnFilterLang && o.columnFilterLang.greater_than) != null ? D : "Greater than"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "greater_than_equal" }),
              onClick: a[10] || (a[10] = (k) => g("greater_than_equal"))
            }, toDisplayString((j = o.columnFilterLang && o.columnFilterLang.greater_than_equal) != null ? j : "Greater than or equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "less_than" }),
              onClick: a[11] || (a[11] = (k) => g("less_than"))
            }, toDisplayString((P = o.columnFilterLang && o.columnFilterLang.less_than) != null ? P : "Less than"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "less_than_equal" }),
              onClick: a[12] || (a[12] = (k) => g("less_than_equal"))
            }, toDisplayString((W = o.columnFilterLang && o.columnFilterLang.less_than_equal) != null ? W : "Less than or equal"), 3)
          ], 64)) : o.column.type === "date" ? (openBlock(), createElementBlock(Fragment, { key: 2 }, [
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "equal" }),
              onClick: a[13] || (a[13] = (k) => g("equal"))
            }, toDisplayString((O = o.columnFilterLang && o.columnFilterLang.equal) != null ? O : "Equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "not_equal" }),
              onClick: a[14] || (a[14] = (k) => g("not_equal"))
            }, toDisplayString((ee = o.columnFilterLang && o.columnFilterLang.not_equal) != null ? ee : "Not equal"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "greater_than" }),
              onClick: a[15] || (a[15] = (k) => g("greater_than"))
            }, toDisplayString((A = o.columnFilterLang && o.columnFilterLang.greater_than) != null ? A : "Greater than"), 3),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass({ active: o.column.condition === "less_than" }),
              onClick: a[16] || (a[16] = (k) => g("less_than"))
            }, toDisplayString((te = o.columnFilterLang && o.columnFilterLang.less_than) != null ? te : "Less than"), 3)
          ], 64)) : createCommentVNode("", true),
          createBaseVNode("button", {
            type: "button",
            class: normalizeClass({ active: o.column.condition === "is_null" }),
            onClick: a[17] || (a[17] = (k) => g("is_null"))
          }, toDisplayString((F = o.columnFilterLang && o.columnFilterLang.is_null) != null ? F : "Is null"), 3),
          createBaseVNode("button", {
            type: "button",
            class: normalizeClass({ active: o.column.condition === "is_not_null" }),
            onClick: a[18] || (a[18] = (k) => g("is_not_null"))
          }, toDisplayString((B = o.columnFilterLang && o.columnFilterLang.is_not_null) != null ? B : "Not null"), 3)
        ])
      ]);
    };
  }
});
var oe = (S, _) => {
  const o = S.__vccOpts || S;
  for (const [p, t] of _)
    o[p] = t;
  return o;
};
var Ye = {};
var Qe = {
  version: "1.1",
  viewBox: "0 0 17 12",
  xmlns: "http://www.w3.org/2000/svg"
};
function Xe(S, _) {
  return openBlock(), createElementBlock("svg", Qe, _[0] || (_[0] = [
    createBaseVNode("g", {
      fill: "none",
      "fill-rule": "evenodd"
    }, [
      createBaseVNode("g", {
        transform: "translate(-9 -11)",
        fill: "currentColor",
        "fill-rule": "nonzero"
      }, [
        createBaseVNode("path", { d: "m25.576 11.414c0.56558 0.55188 0.56558 1.4439 0 1.9961l-9.404 9.176c-0.28213 0.27529-0.65247 0.41385-1.0228 0.41385-0.37034 0-0.74068-0.13855-1.0228-0.41385l-4.7019-4.588c-0.56584-0.55188-0.56584-1.4442 0-1.9961 0.56558-0.55214 1.4798-0.55214 2.0456 0l3.679 3.5899 8.3812-8.1779c0.56558-0.55214 1.4798-0.55214 2.0456 0z" })
      ])
    ], -1)
  ]));
}
var Se = oe(Ye, [["render", Xe]]);
var Ze = {};
var je = {
  viewBox: "0 0 24 24",
  width: "24",
  height: "24",
  stroke: "currentColor",
  "stroke-width": "3",
  fill: "none",
  "stroke-linecap": "round",
  "stroke-linejoin": "round",
  class: "css-i6dzq1"
};
function et(S, _) {
  return openBlock(), createElementBlock("svg", je, _[0] || (_[0] = [
    createBaseVNode("line", {
      x1: "5",
      y1: "12",
      x2: "19",
      y2: "12"
    }, null, -1)
  ]));
}
var tt = oe(Ze, [["render", et]]);
var lt = {};
var nt = {
  viewBox: "0 0 24 24",
  width: "24",
  height: "24",
  stroke: "currentColor",
  "stroke-width": "1.5",
  fill: "none",
  "stroke-linecap": "round",
  "stroke-linejoin": "round",
  class: "css-i6dzq1"
};
function ot(S, _) {
  return openBlock(), createElementBlock("svg", nt, _[0] || (_[0] = [
    createBaseVNode("polygon", { points: "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" }, null, -1)
  ]));
}
var at = oe(lt, [["render", ot]]);
var it = { key: "hdrrow" };
var rt = { class: "bh-checkbox" };
var st = ["onClick"];
var ut = {
  width: "16",
  height: "16",
  viewBox: "0 0 14 14",
  fill: "none"
};
var ct = {
  key: 0,
  class: "bh-filter bh-relative"
};
var vt = ["onUpdate:modelValue"];
var dt = ["onUpdate:modelValue"];
var ft = ["onUpdate:modelValue"];
var ht = ["onUpdate:modelValue"];
var gt = ["onClick"];
var ke = defineComponent({
  __name: "column-header",
  props: ["all", "currentSortColumn", "currentSortDirection", "isOpenFilter", "isFooter", "checkAll", "columnFilterLang"],
  emits: ["selectAll", "sortChange", "filterChange", "toggleFilterMenu"],
  setup(S, { emit: _ }) {
    const o = ref(null), p = S, t = _;
    return watch(() => p.checkAll, () => {
      o.value && (o.value.indeterminate = p.checkAll !== 0 ? !p.checkAll : false, o.value.checked = p.checkAll);
    }), (v, a) => (openBlock(), createElementBlock("tr", it, [
      p.all.hasCheckbox ? (openBlock(), createElementBlock("th", {
        key: "chkall",
        class: normalizeClass(["bh-w-px", {
          "bh-sticky bh-bg-blue-light bh-z-[1]": p.all.stickyHeader || p.all.stickyFirstColumn,
          "bh-top-0": p.all.stickyHeader,
          "bh-left-0": p.all.stickyFirstColumn
        }])
      }, [
        createBaseVNode("div", rt, [
          createBaseVNode("input", {
            ref_key: "selectedAll",
            ref: o,
            type: "checkbox",
            onClick: a[0] || (a[0] = withModifiers((d) => t("selectAll", d.target.checked), ["stop"]))
          }, null, 512),
          createBaseVNode("div", null, [
            createVNode(Se, { class: "check" }),
            createVNode(tt, { class: "intermediate" })
          ])
        ])
      ], 2)) : createCommentVNode("", true),
      (openBlock(true), createElementBlock(Fragment, null, renderList(p.all.columns, (d, $) => (openBlock(), createElementBlock(Fragment, null, [
        d.hide ? createCommentVNode("", true) : (openBlock(), createElementBlock("th", {
          key: d.field,
          class: normalizeClass(["bh-select-none bh-z-[1]", [
            p.all.sortable && d.sort ? "bh-cursor-pointer" : "",
            $ === 0 && p.all.stickyFirstColumn ? "bh-sticky bh-left-0 bh-bg-blue-light" : "",
            p.all.hasCheckbox && $ === 0 && p.all.stickyFirstColumn ? "bh-left-[52px]" : ""
          ]]),
          style: normalizeStyle({
            width: d.width,
            "min-width": d.minWidth,
            "max-width": d.maxWidth
          })
        }, [
          createBaseVNode("div", {
            class: normalizeClass(["bh-flex bh-items-center", [d.headerClass ? d.headerClass : ""]]),
            onClick: (C) => p.all.sortable && d.sort && t("sortChange", d.field)
          }, [
            createTextVNode(toDisplayString(d.title) + " ", 1),
            p.all.sortable && d.sort ? (openBlock(), createElementBlock("span", {
              key: 0,
              class: normalizeClass(["bh-ml-3 bh-sort bh-flex bh-items-center", [p.currentSortColumn, p.currentSortDirection]])
            }, [
              (openBlock(), createElementBlock("svg", ut, [
                createBaseVNode("polygon", {
                  points: "3.11,6.25 10.89,6.25 7,1.75 ",
                  fill: "currentColor",
                  class: normalizeClass(["bh-text-black/20", [S.currentSortColumn === d.field && S.currentSortDirection === "asc" ? "!bh-text-primary" : ""]])
                }, null, 2),
                createBaseVNode("polygon", {
                  points: "7,12.25 10.89,7.75 3.11,7.75 ",
                  fill: "currentColor",
                  class: normalizeClass(["bh-text-black/20", [S.currentSortColumn === d.field && S.currentSortDirection === "desc" ? "!bh-text-primary" : ""]])
                }, null, 2)
              ]))
            ], 2)) : createCommentVNode("", true)
          ], 10, st),
          p.all.columnFilter && !p.isFooter ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
            d.filter ? (openBlock(), createElementBlock("div", ct, [
              d.type === "string" ? withDirectives((openBlock(), createElementBlock("input", {
                key: 0,
                "onUpdate:modelValue": (C) => d.value = C,
                type: "text",
                class: "bh-form-control",
                onKeyup: a[1] || (a[1] = (C) => t("filterChange"))
              }, null, 40, vt)), [
                [
                  vModelText,
                  d.value,
                  void 0,
                  { trim: true }
                ]
              ]) : createCommentVNode("", true),
              d.type === "number" ? withDirectives((openBlock(), createElementBlock("input", {
                key: 1,
                "onUpdate:modelValue": (C) => d.value = C,
                type: "number",
                class: "bh-form-control",
                onKeyup: a[2] || (a[2] = (C) => t("filterChange"))
              }, null, 40, dt)), [
                [
                  vModelText,
                  d.value,
                  void 0,
                  {
                    number: true,
                    trim: true
                  }
                ]
              ]) : d.type === "date" ? withDirectives((openBlock(), createElementBlock("input", {
                key: 2,
                "onUpdate:modelValue": (C) => d.value = C,
                type: "date",
                class: "bh-form-control",
                onChange: a[3] || (a[3] = (C) => t("filterChange"))
              }, null, 40, ft)), [
                [vModelText, d.value]
              ]) : d.type === "bool" ? withDirectives((openBlock(), createElementBlock("select", {
                key: 3,
                "onUpdate:modelValue": (C) => d.value = C,
                class: "bh-form-control",
                onChange: a[4] || (a[4] = (C) => t("filterChange")),
                onClick: a[5] || (a[5] = (C) => p.isOpenFilter = null)
              }, a[8] || (a[8] = [
                createBaseVNode("option", { value: void 0 }, "All", -1),
                createBaseVNode("option", { value: true }, "True", -1),
                createBaseVNode("option", { value: false }, "False", -1)
              ]), 40, ht)), [
                [vModelSelect, d.value]
              ]) : createCommentVNode("", true),
              d.type !== "bool" ? (openBlock(), createElementBlock("button", {
                key: 4,
                type: "button",
                onClick: withModifiers((C) => t("toggleFilterMenu", d), ["stop"])
              }, [
                createVNode(at, { class: "bh-w-4" })
              ], 8, gt)) : createCommentVNode("", true),
              withDirectives(createVNode(We, {
                column: d,
                type: d.type,
                columnFilterLang: p.columnFilterLang,
                onClose: a[6] || (a[6] = (C) => t("toggleFilterMenu", null)),
                onFilterChange: a[7] || (a[7] = (C) => t("filterChange"))
              }, null, 8, ["column", "type", "columnFilterLang"]), [
                [vShow, p.isOpenFilter === d.field]
              ])
            ])) : createCommentVNode("", true)
          ], 64)) : createCommentVNode("", true)
        ], 6))
      ], 64))), 256))
    ]));
  }
});
var pt = {};
var mt = {
  width: "84",
  height: "84",
  viewBox: "0 0 24 24",
  class: "bh-loader bh-text-primary"
};
function bt(S, _) {
  return openBlock(), createElementBlock("svg", mt, _[0] || (_[0] = [
    createStaticVNode('<circle cx="18" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".67" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin=".33" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="6" cy="12" r="0" fill="currentColor"><animate attributeName="r" begin="0" calcMode="spline" dur="1.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle>', 3)
  ]));
}
var yt = oe(pt, [["render", bt]]);
var Ct = { class: "bh-datatable bh-antialiased bh-relative bh-text-black bh-text-sm bh-font-normal" };
var kt = ["onClick"];
var wt = { class: "bh-checkbox" };
var _t = ["value"];
var Ft = ["innerHTML"];
var Lt = { key: 1 };
var St = ["colspan"];
var xt = ["colspan"];
var $t = {
  key: 0,
  class: "bh-absolute bh-inset-0 bh-bg-blue-light/50 bh-grid bh-place-content-center"
};
var qt = { class: "bh-flex bh-items-center bh-flex-wrap bh-flex-col sm:bh-flex-row bh-gap-4" };
var Mt = { class: "bh-pagination-info bh-flex bh-items-center" };
var zt = { class: "bh-mr-2" };
var At = ["value"];
var Bt = { class: "bh-pagination-number sm:bh-ml-auto bh-inline-flex bh-items-center bh-space-x-1" };
var Nt = ["innerHTML"];
var Rt = {
  key: 1,
  "aria-hidden": "true",
  width: "14",
  height: "14",
  viewBox: "0 0 16 16"
};
var Dt = ["innerHTML"];
var Pt = {
  key: 1,
  "aria-hidden": "true",
  width: "14",
  height: "14",
  viewBox: "0 0 16 16"
};
var Ht = ["onClick"];
var Ot = ["innerHTML"];
var Tt = {
  key: 1,
  "aria-hidden": "true",
  width: "14",
  height: "14",
  viewBox: "0 0 16 16"
};
var Vt = ["innerHTML"];
var Ut = {
  key: 1,
  "aria-hidden": "true",
  width: "14",
  height: "14",
  viewBox: "0 0 16 16"
};
var Jt = defineComponent({
  __name: "custom-table",
  props: {
    loading: { type: Boolean, default: false },
    isServerMode: { type: Boolean, default: false },
    skin: { default: "bh-table-striped bh-table-hover" },
    totalRows: { default: 0 },
    rows: { default: () => [] },
    columns: { default: () => [] },
    hasCheckbox: { type: Boolean, default: false },
    search: { default: "" },
    columnChooser: { type: Boolean, default: false },
    page: { default: 1 },
    pageSize: { default: 10 },
    pageSizeOptions: { default: () => [10, 20, 30, 50, 100] },
    showPageSize: { type: Boolean, default: true },
    rowClass: { default: [] },
    cellClass: { default: [] },
    sortable: { type: Boolean, default: false },
    sortColumn: { default: "id" },
    sortDirection: { default: "asc" },
    columnFilter: { type: Boolean, default: false },
    columnFilterLang: { default: null },
    pagination: { type: Boolean, default: true },
    showNumbers: { type: Boolean, default: true },
    showNumbersCount: { default: 5 },
    showFirstPage: { type: Boolean, default: true },
    showLastPage: { type: Boolean, default: true },
    firstArrow: { default: "" },
    lastArrow: { default: "" },
    nextArrow: { default: "" },
    previousArrow: { default: "" },
    paginationInfo: { default: "Showing {0} to {1} of {2} entries" },
    noDataContent: { default: "No data available" },
    stickyHeader: { type: Boolean, default: false },
    height: { default: "500px" },
    stickyFirstColumn: { type: Boolean, default: false },
    cloneHeaderInFooter: { type: Boolean, default: false },
    selectRowOnClick: { type: Boolean, default: false }
  },
  emits: ["change", "sortChange", "searchChange", "pageChange", "pageSizeChange", "rowSelect", "filterChange", "rowClick", "rowDBClick"],
  setup(S, { expose: _, emit: o }) {
    var pe, me;
    const p = useSlots(), t = S;
    for (const e of t.columns || []) {
      const l = ((pe = e.type) == null ? void 0 : pe.toLowerCase()) || "string";
      e.type = l, e.isUnique = e.isUnique !== void 0 ? e.isUnique : false, e.hide = e.hide !== void 0 ? e.hide : false, e.filter = e.filter !== void 0 ? e.filter : true, e.search = e.search !== void 0 ? e.search : true, e.sort = e.sort !== void 0 ? e.sort : true, e.html = e.html !== void 0 ? e.html : false, e.condition = !l || l === "string" ? "contain" : "equal";
    }
    const g = ref([]), v = ref(t.page), a = ref(t.pagination ? t.pageSize : (me = t.rows) == null ? void 0 : me.length), d = t.pageSize, $ = ref(t.sortColumn), C = t.sortColumn, N = ref(t.sortDirection), Z = t.sortDirection, q = ref(t.totalRows), x = ref([]), G = ref(null), R = ref(t.loading), D = ref(t.search), j = JSON.parse(JSON.stringify(t.columns)), P = ref(null), W = ref(null);
    let O = ref(0);
    const ee = ref(230);
    onMounted(() => {
      T();
    });
    const A = o;
    _({
      reset() {
        Ne();
      },
      getSelectedRows() {
        return Re();
      },
      getColumnFilters() {
        return De();
      },
      clearSelectedRows() {
        return Pe();
      },
      selectRow(e) {
        he(e);
      },
      unselectRow(e) {
        ge(e);
      },
      isRowSelected(e) {
        return ne(e);
      },
      getFilteredRows() {
        return ue();
      }
    });
    const te = (e, ...l) => e.replace(/{(\d+)}/g, (r, m) => typeof l[m] < "u" ? l[m] : r), F = computed(() => {
      const e = t.columns.find((l) => l.isUnique);
      return (e == null ? void 0 : e.field) || null;
    }), B = computed(() => {
      const e = a.value < 1 ? 1 : Math.ceil(q.value / a.value);
      return Math.max(e || 0, 1);
    }), k = computed(() => (v.value - 1) * a.value + 1), se = computed(() => {
      const e = v.value * a.value;
      return q.value >= e ? e : q.value;
    }), xe = computed(() => {
      let e, l;
      return typeof t.showNumbersCount < "u" && t.showNumbersCount < B.value ? (e = Math.max(v.value - Math.floor(t.showNumbersCount / 2), 1), l = e + t.showNumbersCount - 1, l > B.value && (l = B.value, e = l - t.showNumbersCount + 1)) : (e = 1, l = B.value), Array.from(Array(l + 1 - e).keys()).map((L) => e + L);
    }), ue = () => {
      var L, Y, be;
      let e = t.rows || [];
      if (!t.isServerMode) {
        if ((L = t.columns) == null || L.forEach((n) => {
          n.filter && (n.value !== void 0 && n.value !== null && n.value !== "" || n.condition === "is_null" || n.condition == "is_not_null") && (n.type === "string" ? (n.value && !n.condition && (n.condition = "contain"), n.condition === "contain" ? e = e.filter((s) => {
            var y;
            return (y = h(s, n.field)) == null ? void 0 : y.toString().toLowerCase().includes(n.value.toLowerCase());
          }) : n.condition === "not_contain" ? e = e.filter((s) => {
            var y;
            return !((y = h(s, n.field)) != null && y.toString().toLowerCase().includes(n.value.toLowerCase()));
          }) : n.condition === "equal" ? e = e.filter((s) => {
            var y;
            return ((y = h(s, n.field)) == null ? void 0 : y.toString().toLowerCase()) === n.value.toLowerCase();
          }) : n.condition === "not_equal" ? e = e.filter((s) => {
            var y;
            return ((y = h(s, n.field)) == null ? void 0 : y.toString().toLowerCase()) !== n.value.toLowerCase();
          }) : n.condition == "start_with" ? e = e.filter((s) => {
            var y;
            return ((y = h(s, n.field)) == null ? void 0 : y.toString().toLowerCase().indexOf(n.value.toLowerCase())) === 0;
          }) : n.condition == "end_with" && (e = e.filter((s) => {
            var y;
            return ((y = h(s, n.field)) == null ? void 0 : y.toString().toLowerCase().substr(n.value.length * -1)) === n.value.toLowerCase();
          }))) : n.type === "number" ? (n.value && !n.condition && (n.condition = "equal"), n.condition === "equal" ? e = e.filter((s) => h(s, n.field) && parseFloat(h(s, n.field)) === parseFloat(n.value)) : n.condition === "not_equal" ? e = e.filter((s) => h(s, n.field) && parseFloat(h(s, n.field)) !== parseFloat(n.value)) : n.condition === "greater_than" ? e = e.filter((s) => h(s, n.field) && parseFloat(h(s, n.field)) > parseFloat(n.value)) : n.condition === "greater_than_equal" ? e = e.filter((s) => h(s, n.field) && parseFloat(h(s, n.field)) >= parseFloat(n.value)) : n.condition === "less_than" ? e = e.filter((s) => h(s, n.field) && parseFloat(h(s, n.field)) < parseFloat(n.value)) : n.condition === "less_than_equal" && (e = e.filter((s) => h(s, n.field) && parseFloat(h(s, n.field)) <= parseFloat(n.value)))) : n.type === "date" ? (n.value && !n.condition && (n.condition = "equal"), n.condition === "equal" ? e = e.filter((s) => h(s, n.field) && le(h(s, n.field)) === n.value) : n.condition === "not_equal" ? e = e.filter((s) => h(s, n.field) && le(h(s, n.field)) !== n.value) : n.condition === "greater_than" ? e = e.filter((s) => h(s, n.field) && le(h(s, n.field)) > n.value) : n.condition === "less_than" && (e = e.filter((s) => h(s, n.field) && le(h(s, n.field)) < n.value))) : n.type === "bool" && (e = e.filter((s) => h(s, n.field) === n.value)), n.condition === "is_null" ? (e = e.filter((s) => h(s, n.field) == null || h(s, n.field) == ""), n.value = "") : n.condition === "is_not_null" && (n.value = "", e = e.filter((s) => h(s, n.field))));
        }), D.value && (e == null ? void 0 : e.length)) {
          let n = [];
          const s = (t.columns || []).filter((y) => y.search && !y.hide).map((y) => y.field);
          for (var l = 0; l < (e == null ? void 0 : e.length); l++)
            for (var r = 0; r < s.length; r++)
              if ((Y = h(e[l], s[r])) != null && Y.toString().toLowerCase().includes(D.value.toLowerCase())) {
                n.push(e[l]);
                break;
              }
          e = n;
        }
        var m = new Intl.Collator(void 0, {
          numeric: ((be = t.columns.find((n) => n.field == $.value)) == null ? void 0 : be.type) === "number",
          sensitivity: "base"
        });
        const He = N.value === "desc" ? -1 : 1;
        e.sort((n, s) => {
          var ye, Ce;
          const y = (ye = $.value) == null ? void 0 : ye.split(".").reduce((U, ae) => U == null ? void 0 : U[ae], n), Oe = (Ce = $.value) == null ? void 0 : Ce.split(".").reduce((U, ae) => U == null ? void 0 : U[ae], s);
          return m.compare(y, Oe) * He;
        });
      }
      return e;
    }, T = () => {
      let e = [], l = ue();
      t.isServerMode ? (q.value = t.totalRows || 0, e = l) : (q.value = (l == null ? void 0 : l.length) || 0, e = l.slice(k.value - 1, se.value)), g.value = e || [];
    };
    watch(
      () => t.loading,
      () => {
        R.value = t.loading;
      }
    );
    const ce = (e) => {
      e ? P.value === e.field ? P.value = null : P.value = e.field : P.value = null;
    }, $e = () => {
      if (v.value == 1)
        return false;
      v.value--;
    }, qe = (e) => {
      v.value = e;
    }, Me = () => {
      if (v.value >= B.value)
        return false;
      v.value++;
    };
    watch(() => v.value, () => {
      H(false), t.isServerMode ? K("page") : (T(), A("pageChange", v.value));
    }), watch(() => t.rows, () => {
      t.isServerMode || (v.value = 1), H(false), T();
    }), watch(() => a.value, () => {
      H(false), t.isServerMode ? v.value === 1 ? K("pagesize", true) : v.value = 1 : (v.value = 1, T(), A("pageSizeChange", a.value));
    });
    const ve = (e) => {
      let l = "asc";
      e == $.value && N.value === "asc" && (l = "desc");
      let r = (v.value - 1) * a.value, m = a.value;
      $.value = e, N.value = l, H(false), T(), t.isServerMode ? K("sort") : A("sortChange", { offset: r, limit: m, field: e, direction: l });
    }, de = (e) => {
      G.value = e.length && g.value.length && e.length === g.value.length;
      const l = g.value.filter((r, m) => x.value.includes(F.value ? r[F.value] : m));
      A("rowSelect", l);
    };
    watch(() => x.value, de);
    const H = (e) => {
      e ? x.value = g.value.map((l, r) => F.value ? l[F.value] : r) : x.value = [];
    }, fe = () => {
      H(false), t.isServerMode ? v.value === 1 ? K("filter", true) : v.value = 1 : (v.value = 1, T(), A("filterChange", t.columns));
    }, ze = () => {
      H(false), t.isServerMode ? v.value === 1 ? K("search", true) : v.value = 1 : (v.value = 1, T(), A("searchChange", D.value));
    };
    watch(
      () => t.search,
      () => {
        D.value = t.search, ze();
      }
    );
    const h = (e, l) => l == null ? void 0 : l.split(".").reduce((r, m) => r == null ? void 0 : r[m], e), le = (e) => {
      try {
        if (!e)
          return "";
        const l = new Date(e), r = l.getDate(), m = l.getMonth() + 1;
        return l.getFullYear() + "-" + (m > 9 ? m : "0" + m) + "-" + (r > 9 ? r : "0" + r);
      } catch {
      }
      return "";
    }, Ae = (e, l) => {
      O.value++, O.value === 1 ? W.value = setTimeout(() => {
        O.value = 0, t.selectRowOnClick && (ne(l) ? ge(l) : he(l), de(x.value)), A("rowClick", e);
      }, ee.value) : O.value === 2 && (clearTimeout(W.value), O.value = 0, A("rowDBClick", e));
    }, K = (e, l = false) => {
      if (t.isServerMode) {
        Be();
        const r = {
          current_page: l ? 1 : v.value,
          pagesize: a.value,
          offset: (v.value - 1) * a.value,
          sort_column: $.value,
          sort_direction: N.value,
          search: D.value,
          column_filters: t.columns,
          change_type: e
        };
        A("change", r);
      }
    }, Be = () => {
      for (let e = 0; e < t.columns.length; e++) {
        let l = t.columns[e];
        l.filter && (l.value !== void 0 && l.value !== null && l.value !== "" || l.condition === "is_null" || l.condition === "is_not_null") && (l.type === "string" && l.value && !l.condition && (l.condition = "contain"), l.type === "number" && l.value && !l.condition && (l.condition = "equal"), l.type === "date" && l.value && !l.condition && (l.condition = "equal"));
      }
    }, Ne = () => {
      H(false);
      for (let e = 0; e < t.columns.length; e++)
        t.columns[e] = j[e];
      D.value = "", a.value = d, $.value = C, N.value = Z, t.isServerMode ? v.value === 1 ? K("reset", true) : v.value = 1 : (v.value = 1, T());
    }, Re = () => g.value.filter((l, r) => x.value.includes(F.value ? l[F.value] : r)), De = () => t.columns, Pe = () => {
      x.value = [];
    }, he = (e) => {
      if (!ne(e)) {
        const l = g.value.find((r, m) => m === e);
        x.value.push(F.value ? l[F.value] : e);
      }
    }, ge = (e) => {
      if (ne(e)) {
        const l = g.value.find((r, m) => m === e);
        x.value = x.value.filter((r) => r !== (F.value ? l[F.value] : e));
      }
    }, ne = (e) => {
      const l = g.value.find((r, m) => m === e);
      return l ? x.value.includes(F.value ? l[F.value] : e) : false;
    };
    return (e, l) => (openBlock(), createElementBlock("div", Ct, [
      createBaseVNode("div", {
        class: normalizeClass(["bh-table-responsive", { "bh-min-h-[300px]": R.value }]),
        style: normalizeStyle({ height: t.stickyHeader && t.height })
      }, [
        createBaseVNode("table", {
          class: normalizeClass([t.skin])
        }, [
          createBaseVNode("thead", {
            class: normalizeClass({ "bh-sticky bh-top-0 bh-z-10": t.stickyHeader })
          }, [
            createVNode(ke, {
              all: t,
              currentSortColumn: $.value,
              currentSortDirection: N.value,
              isOpenFilter: P.value,
              checkAll: G.value,
              columnFilterLang: t.columnFilterLang,
              onSelectAll: H,
              onSortChange: ve,
              onFilterChange: fe,
              onToggleFilterMenu: ce
            }, null, 8, ["currentSortColumn", "currentSortDirection", "isOpenFilter", "checkAll", "columnFilterLang"])
          ], 2),
          createBaseVNode("tbody", null, [
            q.value ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(g.value, (r, m) => (openBlock(), createElementBlock("tr", {
              key: r[F.value] ? r[F.value] : m,
              class: normalizeClass([typeof t.rowClass == "function" ? e.rowClass(r) : t.rowClass, t.selectRowOnClick ? "bh-cursor-pointer" : ""]),
              onClick: withModifiers((L) => Ae(r, m), ["prevent"])
            }, [
              t.hasCheckbox ? (openBlock(), createElementBlock("td", {
                key: 0,
                class: normalizeClass({
                  "bh-sticky bh-left-0 bh-bg-blue-light": t.stickyFirstColumn
                })
              }, [
                createBaseVNode("div", wt, [
                  withDirectives(createBaseVNode("input", {
                    "onUpdate:modelValue": l[0] || (l[0] = (L) => x.value = L),
                    type: "checkbox",
                    value: r[F.value] ? r[F.value] : m,
                    onClick: l[1] || (l[1] = withModifiers(() => {
                    }, ["stop"]))
                  }, null, 8, _t), [
                    [vModelCheckbox, x.value]
                  ]),
                  createBaseVNode("div", null, [
                    createVNode(Se, { class: "check" })
                  ])
                ])
              ], 2)) : createCommentVNode("", true),
              (openBlock(true), createElementBlock(Fragment, null, renderList(t.columns, (L, Y) => (openBlock(), createElementBlock(Fragment, null, [
                L.hide ? createCommentVNode("", true) : (openBlock(), createElementBlock("td", {
                  key: L.field,
                  class: normalizeClass([
                    typeof t.cellClass == "function" ? e.cellClass(r) : t.cellClass,
                    Y === 0 && t.stickyFirstColumn ? "bh-sticky bh-left-0 bh-bg-blue-light" : "",
                    t.hasCheckbox && Y === 0 && t.stickyFirstColumn ? "bh-left-[52px]" : "",
                    L.cellClass ? L.cellClass : ""
                  ])
                }, [
                  unref(p)[L.field] ? renderSlot(e.$slots, L.field, {
                    key: 0,
                    value: r
                  }) : L.cellRenderer ? (openBlock(), createElementBlock("div", {
                    key: 1,
                    innerHTML: L.cellRenderer(r)
                  }, null, 8, Ft)) : (openBlock(), createElementBlock(Fragment, { key: 2 }, [
                    createTextVNode(toDisplayString(h(r, L.field)), 1)
                  ], 64))
                ], 2))
              ], 64))), 256))
            ], 10, kt))), 128)) : createCommentVNode("", true),
            !q.value && !R.value ? (openBlock(), createElementBlock("tr", Lt, [
              createBaseVNode("td", {
                colspan: t.columns.length + 1
              }, toDisplayString(t.noDataContent), 9, St)
            ])) : createCommentVNode("", true),
            !q.value && R.value ? (openBlock(true), createElementBlock(Fragment, { key: 2 }, renderList(t.pageSize, (r) => (openBlock(), createElementBlock("tr", {
              key: r,
              class: "!bh-bg-white bh-h-11 !bh-border-transparent"
            }, [
              createBaseVNode("td", {
                colspan: t.columns.length + 1,
                class: "!bh-p-0 !bh-border-transparent"
              }, l[5] || (l[5] = [
                createBaseVNode("div", { class: "bh-skeleton-box bh-h-8" }, null, -1)
              ]), 8, xt)
            ]))), 128)) : createCommentVNode("", true)
          ]),
          t.cloneHeaderInFooter ? (openBlock(), createElementBlock("tfoot", {
            key: 0,
            class: normalizeClass({ "bh-sticky bh-bottom-0": t.stickyHeader })
          }, [
            createVNode(ke, {
              all: t,
              currentSortColumn: $.value,
              currentSortDirection: N.value,
              isOpenFilter: P.value,
              isFooter: true,
              checkAll: G.value,
              onSelectAll: H,
              onSortChange: ve,
              onFilterChange: fe,
              onToggleFilterMenu: ce
            }, null, 8, ["currentSortColumn", "currentSortDirection", "isOpenFilter", "checkAll"])
          ], 2)) : createCommentVNode("", true)
        ], 2),
        q.value && R.value ? (openBlock(), createElementBlock("div", $t, [
          createVNode(yt)
        ])) : createCommentVNode("", true)
      ], 6),
      t.pagination && q.value ? (openBlock(), createElementBlock("div", {
        key: 0,
        class: normalizeClass(["bh-pagination bh-py-5", { "bh-pointer-events-none": R.value }])
      }, [
        createBaseVNode("div", qt, [
          createBaseVNode("div", Mt, [
            createBaseVNode("span", zt, toDisplayString(te(t.paginationInfo, q.value ? k.value : 0, se.value, q.value)), 1),
            t.showPageSize ? withDirectives((openBlock(), createElementBlock("select", {
              key: 0,
              "onUpdate:modelValue": l[2] || (l[2] = (r) => a.value = r),
              class: "bh-pagesize"
            }, [
              (openBlock(true), createElementBlock(Fragment, null, renderList(t.pageSizeOptions, (r) => (openBlock(), createElementBlock("option", {
                value: r,
                key: r
              }, toDisplayString(r), 9, At))), 128))
            ], 512)), [
              [vModelSelect, a.value]
            ]) : createCommentVNode("", true)
          ]),
          createBaseVNode("div", Bt, [
            t.showFirstPage ? (openBlock(), createElementBlock("button", {
              key: 0,
              type: "button",
              class: normalizeClass(["bh-page-item first-page", { disabled: v.value <= 1 }]),
              onClick: l[3] || (l[3] = (r) => v.value = 1)
            }, [
              t.firstArrow ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: t.firstArrow
              }, null, 8, Nt)) : (openBlock(), createElementBlock("svg", Rt, l[6] || (l[6] = [
                createBaseVNode("g", {
                  fill: "currentColor",
                  "fill-rule": "evenodd"
                }, [
                  createBaseVNode("path", { d: "M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" }),
                  createBaseVNode("path", { d: "M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" })
                ], -1)
              ])))
            ], 2)) : createCommentVNode("", true),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass(["bh-page-item previous-page", { disabled: v.value <= 1 }]),
              onClick: $e
            }, [
              t.previousArrow ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: t.previousArrow
              }, null, 8, Dt)) : (openBlock(), createElementBlock("svg", Pt, l[7] || (l[7] = [
                createBaseVNode("path", {
                  fill: "currentColor",
                  "fill-rule": "evenodd",
                  d: "M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
                }, null, -1)
              ])))
            ], 2),
            t.showNumbers ? (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(xe.value, (r) => (openBlock(), createElementBlock("button", {
              key: r,
              type: "button",
              class: normalizeClass(["bh-page-item", {
                disabled: v.value === r,
                "bh-active": r === v.value
              }]),
              onClick: (m) => qe(r)
            }, toDisplayString(r), 11, Ht))), 128)) : createCommentVNode("", true),
            createBaseVNode("button", {
              type: "button",
              class: normalizeClass(["bh-page-item next-page", { disabled: v.value >= B.value }]),
              onClick: Me
            }, [
              t.nextArrow ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: t.nextArrow
              }, null, 8, Ot)) : (openBlock(), createElementBlock("svg", Tt, l[8] || (l[8] = [
                createBaseVNode("path", {
                  fill: "currentColor",
                  "fill-rule": "evenodd",
                  d: "M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8L4.646 2.354a.5.5 0 0 1 0-.708z"
                }, null, -1)
              ])))
            ], 2),
            t.showLastPage ? (openBlock(), createElementBlock("button", {
              key: 2,
              type: "button",
              class: normalizeClass(["bh-page-item last-page", { disabled: v.value >= B.value }]),
              onClick: l[4] || (l[4] = (r) => v.value = B.value)
            }, [
              t.lastArrow ? (openBlock(), createElementBlock("span", {
                key: 0,
                innerHTML: t.lastArrow
              }, null, 8, Vt)) : (openBlock(), createElementBlock("svg", Ut, l[9] || (l[9] = [
                createBaseVNode("g", {
                  fill: "currentColor",
                  "fill-rule": "evenodd"
                }, [
                  createBaseVNode("path", { d: "M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8L3.646 2.354a.5.5 0 0 1 0-.708z" }),
                  createBaseVNode("path", { d: "M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8L7.646 2.354a.5.5 0 0 1 0-.708z" })
                ], -1)
              ])))
            ], 2)) : createCommentVNode("", true)
          ])
        ])
      ], 2)) : createCommentVNode("", true)
    ]));
  }
});
export {
  Jt as default
};
//# sourceMappingURL=@bhplugin_vue3-datatable.js.map
